<div class="container">
  <header>
    <h1>Panader√≠a</h1>
  </header>

  <section class="info-panaderia">
    <img
      src="logo.png"
      alt="Logo S√°nchez"
      class="logo"
    />
    <div class="datos">
      <strong>Panaderia S√°nchez S.A</strong><br />
      C/Del trigo N¬∫24<br />
      28916 Madrid<br />
      Tel√©fono: 91 694 55 66
    </div>
  </section>

  <section class="formulario-pedido">
    <div class="input-group">
      <label for="producto-select">Producto:</label>
      <select 
        id="producto-select" 
        (change)="onProductoChange($event)">
        @for (producto of productos; track producto.nombre; let i = $index) {
          <option [value]="i">{{ producto.nombre }}</option>
        }
      </select>
    </div>
    <div class="input-group">
      <label>Precio:</label>
      <input 
        type="text" 
        id="precio-unitario" 
        [value]="productoSeleccionado().precio.toFixed(2)" 
        disabled 
      />
    </div>
    <div class="input-group">
      <label for="cantidad">Cantidad:</label>
      <input 
        type="number" 
        id="cantidad" 
        [(ngModel)]="cantidad"
        [min]="1"
      />
    </div>
    <div class="input-group">
      <label>TOTAL:</label>
      <input 
        type="text" 
        id="total-linea" 
        [value]="totalLinea.toFixed(2)" 
        disabled 
      /> ‚Ç¨
    </div>
    <button 
      id="btn-anadir" 
      title="A√±adir producto"
      (click)="anadirProducto()">
      +
    </button>
  </section>

  <section class="ticket">
    <table id="tabla-ticket">
      <thead>
        <tr>
          <th>Producto</th>
          <th>Precio u.</th>
          <th>Cantidad</th>
          <th>Total</th>
          <th>Borrar</th>
        </tr>
      </thead>
      <tbody id="cuerpo-tabla">
        @for (item of itemsTicket(); track item.producto.nombre; let i = $index) {
          <tr>
            <td>{{ item.producto.nombre }}</td>
            <td>{{ item.producto.precio.toFixed(2) }} ‚Ç¨</td>
            <td>{{ item.cantidad }}</td>
            <td class="subtotal">{{ item.subtotal.toFixed(2) }} ‚Ç¨</td>
            <td>
              <span 
                class="borrar-btn" 
                (click)="borrarItem(i)">
                üóëÔ∏è
              </span>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </section>

  <footer class="resumen-total">
    <h2>TOTAL TICKET: <span id="total-final">{{ totalFinal.toFixed(2) }}</span> ‚Ç¨</h2>
    <button 
      id="btn-imprimir"
      (click)="imprimirTicket()">
      Imprimir Ticket
    </button>
  </footer>
</div>
